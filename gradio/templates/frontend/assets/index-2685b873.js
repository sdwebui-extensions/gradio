import{S as $,e as x,s as K,J,K as f,p as q,M as N,n as P,A as j,N as A,O as X,P as ie,k as U,T as fe,Z as Ue,U as he,o as M,Q as F,aj as Me,af as be,Y as Se,X as Ce,u as Q,v as p,y as Y,z as g,R as _e,x as S,a1 as Ee,B as de,a6 as Pe,aB as Re,F as y,h as ye,m as le,j as ze,t as Fe,a9 as Ae,ab as De,ac as Ie,ad as Oe,am as Xe,a7 as Le,ak as T,E as He,ae as Je,q as Ke,r as We}from"./index-2e37758f.js";import{n as ge}from"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";import{B as Ge}from"./Button-574ef2a7.js";import{U as Qe}from"./Upload-04a8c171.js";import{M as Ye}from"./ModifyUpload-e9948013.js";import{B as Be}from"./BlockLabel-aa457e96.js";import{U as Ze,W as $e}from"./StaticImage.svelte_svelte_type_style_lang-99a76201.js";import{I as xe}from"./IconButton-ac5967f5.js";import{E as et}from"./Empty-673daf92.js";import{u as tt,S as lt}from"./ShareButton-5308644d.js";import{D as nt}from"./Download-33fd7216.js";import{U as at}from"./UploadText-9dc7b9cc.js";import"./Blocks-cfd94453.js";function it(n){let e,l;return{c(){e=J("svg"),l=J("path"),f(l,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width","100%"),f(e,"height","100%"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","1.5"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round")},m(t,a){q(t,e,a),N(e,l)},p:P,i:P,o:P,d(t){t&&j(e)}}}class rt extends ${constructor(e){super(),x(this,e,null,it,K,{})}}function ot(n){let e,l,t;return{c(){e=J("svg"),l=J("rect"),t=J("rect"),f(l,"x","6"),f(l,"y","4"),f(l,"width","4"),f(l,"height","16"),f(t,"x","14"),f(t,"y","4"),f(t,"width","4"),f(t,"height","16"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width","100%"),f(e,"height","100%"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","1.5"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round")},m(a,i){q(a,e,i),N(e,l),N(e,t)},p:P,i:P,o:P,d(a){a&&j(e)}}}class st extends ${constructor(e){super(),x(this,e,null,ot,K,{})}}function ut(n){let e,l;return{c(){e=J("svg"),l=J("polygon"),f(l,"points","5 3 19 12 5 21 5 3"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width","100%"),f(e,"height","100%"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","1.5"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round")},m(t,a){q(t,e,a),N(e,l)},p:P,i:P,o:P,d(t){t&&j(e)}}}class ft extends ${constructor(e){super(),x(this,e,null,ut,K,{})}}function ct(n){let e,l,t;return{c(){e=J("svg"),l=J("polygon"),t=J("rect"),f(l,"points","23 7 16 12 23 17 23 7"),f(t,"x","1"),f(t,"y","5"),f(t,"width","15"),f(t,"height","14"),f(t,"rx","2"),f(t,"ry","2"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width","100%"),f(e,"height","100%"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","1.5"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round"),f(e,"class","feather feather-video")},m(a,i){q(a,e,i),N(e,l),N(e,t)},p:P,i:P,o:P,d(a){a&&j(e)}}}class me extends ${constructor(e){super(),x(this,e,null,ct,K,{})}}const we=n=>{let e=["B","KB","MB","GB","PB"],l=0;for(;n>1024;)n/=1024,l++;let t=e[l];return n.toFixed(1)+" "+t},_t=()=>!0;function dt(n,{autoplay:e}){async function l(){e&&await n.play()}return n.addEventListener("loadeddata",l),{destroy(){n.removeEventListener("loadeddata",l)}}}const{isNaN:mt}=Pe;function ht(n){let e,l;return e=new st({}),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function bt(n){let e,l;return e=new ft({}),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function gt(n){let e,l;return e=new Ze({}),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function wt(n){let e,l,t,a,i,s,b=!1,_,m=!0,r,u,o,d,E,B,V,I,w,D=ce(n[5])+"",L,W,O=ce(n[6])+"",H,k,C,h,te,ee,Z,z,ne,re;function oe(){cancelAnimationFrame(_),l.paused||(_=Re(oe),b=!0),n[15].call(l)}const se=[gt,bt,ht],G=[];function ue(v,R){return v[5]===v[6]?0:v[7]?1:2}return B=ue(n),V=G[B]=se[B](n),Z=new rt({}),{c(){e=A("div"),l=A("video"),t=A("track"),u=X(),o=A("div"),d=A("div"),E=A("span"),V.c(),I=X(),w=A("span"),L=ie(D),W=ie(" / "),H=ie(O),k=X(),C=A("progress"),te=X(),ee=A("div"),U(Z.$$.fragment),f(t,"kind","captions"),fe(t.src,a=n[1])||f(t,"src",a),t.default=!0,fe(l.src,i=n[0])||f(l,"src",i),f(l,"preload","auto"),f(l,"data-testid",s=`${n[4]}-player`),f(l,"class","svelte-1voqrms"),n[6]===void 0&&Ue(()=>n[16].call(l)),he(l,"mirror",n[2]),f(E,"class","icon svelte-1voqrms"),f(w,"class","time svelte-1voqrms"),C.value=h=n[5]/n[6]||0,f(C,"class","svelte-1voqrms"),f(ee,"class","icon svelte-1voqrms"),f(d,"class","inner svelte-1voqrms"),f(o,"class","controls svelte-1voqrms"),f(e,"class","wrap svelte-1voqrms")},m(v,R){q(v,e,R),N(e,l),N(l,t),n[18](l),N(e,u),N(e,o),N(o,d),N(d,E),G[B].m(E,null),N(d,I),N(d,w),N(w,L),N(w,W),N(w,H),N(d,k),N(d,C),N(d,te),N(d,ee),M(Z,ee,null),z=!0,ne||(re=[F(l,"click",n[10]),F(l,"play",n[13]),F(l,"pause",n[14]),F(l,"ended",n[12]),F(l,"timeupdate",oe),F(l,"durationchange",n[16]),F(l,"play",n[17]),F(l,"pause",n[17]),Me(r=dt.call(null,l,{autoplay:n[3]})),F(E,"click",n[10]),F(C,"mousemove",n[9]),F(C,"touchmove",be(n[9])),F(C,"click",Se(be(n[11]))),F(ee,"click",n[19])],ne=!0)},p(v,[R]){(!z||R&2&&!fe(t.src,a=v[1]))&&f(t,"src",a),(!z||R&1&&!fe(l.src,i=v[0]))&&f(l,"src",i),(!z||R&16&&s!==(s=`${v[4]}-player`))&&f(l,"data-testid",s),!b&&R&32&&!mt(v[5])&&(l.currentTime=v[5]),b=!1,R&128&&m!==(m=v[7])&&l[m?"pause":"play"](),r&&Ce(r.update)&&R&8&&r.update.call(null,{autoplay:v[3]}),(!z||R&4)&&he(l,"mirror",v[2]);let ae=B;B=ue(v),B!==ae&&(Q(),p(G[ae],1,1,()=>{G[ae]=null}),Y(),V=G[B],V||(V=G[B]=se[B](v),V.c()),g(V,1),V.m(E,null)),(!z||R&32)&&D!==(D=ce(v[5])+"")&&_e(L,D),(!z||R&64)&&O!==(O=ce(v[6])+"")&&_e(H,O),(!z||R&96&&h!==(h=v[5]/v[6]||0))&&(C.value=h)},i(v){z||(g(V),g(Z.$$.fragment,v),z=!0)},o(v){p(V),p(Z.$$.fragment,v),z=!1},d(v){v&&j(e),n[18](null),G[B].d(),S(Z),ne=!1,Ee(re)}}}function ce(n){if(isNaN(n)||!isFinite(n))return"...";const e=Math.floor(n/60);let l=Math.floor(n%60);return n<10&&(l=`0${l}`),`${e}:${l}`}function kt(n,e,l){let{src:t}=e,{subtitle:a=null}=e,{mirror:i}=e,{autoplay:s}=e,{label:b="test"}=e;const _=de();let m=0,r,u=!0,o;function d(k){if(!r)return;if(k.type==="click"){B(k);return}if(k.type!=="touchmove"&&!(k.buttons&1))return;const C=k.type==="touchmove"?k.touches[0].clientX:k.clientX,{left:h,right:te}=k.currentTarget.getBoundingClientRect();l(5,m=r*(C-h)/(te-h))}async function E(){document.fullscreenElement!=o&&(o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>o.HAVE_CURRENT_DATA?o.pause():await o.play())}function B(k){const{left:C,right:h}=k.currentTarget.getBoundingClientRect();l(5,m=r*(k.clientX-C)/(h-C))}function V(){_("stop"),_("end")}function I(k){y.call(this,n,k)}function w(k){y.call(this,n,k)}function D(){m=this.currentTime,l(5,m)}function L(){r=this.duration,l(6,r)}function W(){u=this.paused,l(7,u)}function O(k){ye[k?"unshift":"push"](()=>{o=k,l(8,o)})}const H=()=>o.requestFullscreen();return n.$$set=k=>{"src"in k&&l(0,t=k.src),"subtitle"in k&&l(1,a=k.subtitle),"mirror"in k&&l(2,i=k.mirror),"autoplay"in k&&l(3,s=k.autoplay),"label"in k&&l(4,b=k.label)},[t,a,i,s,b,m,r,u,o,d,E,B,V,I,w,D,L,W,O,H]}class Ne extends ${constructor(e){super(),x(this,e,kt,wt,K,{src:0,subtitle:1,mirror:2,autoplay:3,label:4})}}function pt(n){let e,l,t,a,i,s,b;e=new Ye({}),e.$on("clear",n[11]);const _=[Bt,yt],m=[];function r(u,o){return t==null&&(t=!!_t()),t?0:u[0].size?1:-1}return~(a=r(n))&&(i=m[a]=_[a](n)),{c(){U(e.$$.fragment),l=X(),i&&i.c(),s=le()},m(u,o){M(e,u,o),q(u,l,o),~a&&m[a].m(u,o),q(u,s,o),b=!0},p(u,o){let d=a;a=r(u),a===d?~a&&m[a].p(u,o):(i&&(Q(),p(m[d],1,1,()=>{m[d]=null}),Y()),~a?(i=m[a],i?i.p(u,o):(i=m[a]=_[a](u),i.c()),g(i,1),i.m(s.parentNode,s)):i=null)},i(u){b||(g(e.$$.fragment,u),g(i),b=!0)},o(u){p(e.$$.fragment,u),p(i),b=!1},d(u){u&&(j(l),j(s)),S(e,u),~a&&m[a].d(u)}}}function vt(n){let e,l,t,a;const i=[Vt,Nt],s=[];function b(_,m){return _[2]==="upload"?0:_[2]==="webcam"?1:-1}return~(e=b(n))&&(l=s[e]=i[e](n)),{c(){l&&l.c(),t=le()},m(_,m){~e&&s[e].m(_,m),q(_,t,m),a=!0},p(_,m){let r=e;e=b(_),e===r?~e&&s[e].p(_,m):(l&&(Q(),p(s[r],1,1,()=>{s[r]=null}),Y()),~e?(l=s[e],l?l.p(_,m):(l=s[e]=i[e](_),l.c()),g(l,1),l.m(t.parentNode,t)):l=null)},i(_){a||(g(l),a=!0)},o(_){p(l),a=!1},d(_){_&&j(t),~e&&s[e].d(_)}}}function yt(n){let e,l=n[0].name+"",t,a,i,s=we(n[0].size)+"",b;return{c(){e=A("div"),t=ie(l),a=X(),i=A("div"),b=ie(s),f(e,"class","file-name svelte-a6ruol"),f(i,"class","file-size svelte-a6ruol")},m(_,m){q(_,e,m),N(e,t),q(_,a,m),q(_,i,m),N(i,b)},p(_,m){m&1&&l!==(l=_[0].name+"")&&_e(t,l),m&1&&s!==(s=we(_[0].size)+"")&&_e(b,s)},i:P,o:P,d(_){_&&(j(e),j(a),j(i))}}}function Bt(n){let e=n[0]?.data,l,t,a=ke(n);return{c(){a.c(),l=le()},m(i,s){a.m(i,s),q(i,l,s),t=!0},p(i,s){s&1&&K(e,e=i[0]?.data)?(Q(),p(a,1,1,P),Y(),a=ke(i),a.c(),g(a,1),a.m(l.parentNode,l)):a.p(i,s)},i(i){t||(g(a),t=!0)},o(i){p(a),t=!1},d(i){i&&j(l),a.d(i)}}}function ke(n){let e,l;return e=new Ne({props:{autoplay:n[7],src:n[0].data,subtitle:n[1]?.data,mirror:n[5]&&n[2]==="webcam",label:n[3]}}),e.$on("play",n[18]),e.$on("pause",n[19]),e.$on("stop",n[20]),e.$on("end",n[21]),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},p(t,a){const i={};a&128&&(i.autoplay=t[7]),a&1&&(i.src=t[0].data),a&2&&(i.subtitle=t[1]?.data),a&36&&(i.mirror=t[5]&&t[2]==="webcam"),a&8&&(i.label=t[3]),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function Nt(n){let e,l;return e=new $e({props:{mirror_webcam:n[5],include_audio:n[6],mode:"video"}}),e.$on("error",n[14]),e.$on("capture",n[15]),e.$on("start_recording",n[16]),e.$on("stop_recording",n[17]),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},p(t,a){const i={};a&32&&(i.mirror_webcam=t[5]),a&64&&(i.include_audio=t[6]),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function Vt(n){let e,l,t;function a(s){n[13](s)}let i={filetype:"video/x-m4v,video/*",$$slots:{default:[Tt]},$$scope:{ctx:n}};return n[8]!==void 0&&(i.dragging=n[8]),e=new Qe({props:i}),ye.push(()=>ze(e,"dragging",a)),e.$on("load",n[10]),{c(){U(e.$$.fragment)},m(s,b){M(e,s,b),t=!0},p(s,b){const _={};b&4194304&&(_.$$scope={dirty:b,ctx:s}),!l&&b&256&&(l=!0,_.dragging=s[8],Fe(()=>l=!1)),e.$set(_)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Tt(n){let e;const l=n[12].default,t=Ae(l,n,n[22],null);return{c(){t&&t.c()},m(a,i){t&&t.m(a,i),e=!0},p(a,i){t&&t.p&&(!e||i&4194304)&&De(t,l,a,a[22],e?Oe(l,a[22],i,null):Ie(a[22]),null)},i(a){e||(g(t,a),e=!0)},o(a){p(t,a),e=!1},d(a){t&&t.d(a)}}}function qt(n){let e,l,t,a,i,s;e=new Be({props:{show_label:n[4],Icon:me,label:n[3]||"Video"}});const b=[vt,pt],_=[];function m(r,u){return r[0]===null?0:1}return t=m(n),a=_[t]=b[t](n),{c(){U(e.$$.fragment),l=X(),a.c(),i=le()},m(r,u){M(e,r,u),q(r,l,u),_[t].m(r,u),q(r,i,u),s=!0},p(r,[u]){const o={};u&16&&(o.show_label=r[4]),u&8&&(o.label=r[3]||"Video"),e.$set(o);let d=t;t=m(r),t===d?_[t].p(r,u):(Q(),p(_[d],1,1,()=>{_[d]=null}),Y(),a=_[t],a?a.p(r,u):(a=_[t]=b[t](r),a.c()),g(a,1),a.m(i.parentNode,i))},i(r){s||(g(e.$$.fragment,r),g(a),s=!0)},o(r){p(e.$$.fragment,r),p(a),s=!1},d(r){r&&(j(l),j(i)),S(e,r),_[t].d(r)}}}function jt(n,e,l){let{$$slots:t={},$$scope:a}=e,{value:i=null}=e,{subtitle:s=null}=e,{source:b}=e,{label:_=void 0}=e,{show_label:m=!0}=e,{mirror_webcam:r=!1}=e,{include_audio:u}=e,{autoplay:o}=e;const d=de();function E({detail:h}){d("change",h),d("upload",h),l(0,i=h)}function B({detail:h}){l(0,i=null),d("change",h),d("clear")}let V=!1;function I(h){V=h,l(8,V)}function w(h){y.call(this,n,h)}const D=({detail:h})=>d("change",h);function L(h){y.call(this,n,h)}function W(h){y.call(this,n,h)}function O(h){y.call(this,n,h)}function H(h){y.call(this,n,h)}function k(h){y.call(this,n,h)}function C(h){y.call(this,n,h)}return n.$$set=h=>{"value"in h&&l(0,i=h.value),"subtitle"in h&&l(1,s=h.subtitle),"source"in h&&l(2,b=h.source),"label"in h&&l(3,_=h.label),"show_label"in h&&l(4,m=h.show_label),"mirror_webcam"in h&&l(5,r=h.mirror_webcam),"include_audio"in h&&l(6,u=h.include_audio),"autoplay"in h&&l(7,o=h.autoplay),"$$scope"in h&&l(22,a=h.$$scope)},n.$$.update=()=>{n.$$.dirty&256&&d("drag",V)},[i,s,b,_,m,r,u,o,V,d,E,B,t,I,w,D,L,W,O,H,k,C,a]}let Ut=class extends ${constructor(e){super(),x(this,e,jt,qt,K,{value:0,subtitle:1,source:2,label:3,show_label:4,mirror_webcam:5,include_audio:6,autoplay:7})}};function Mt(n){let e=n[0].data,l,t,a,i,s,b,_,m,r=pe(n);i=new xe({props:{Icon:nt,label:"Download"}});let u=n[5]&&ve(n);return{c(){r.c(),l=X(),t=A("div"),a=A("a"),U(i.$$.fragment),_=X(),u&&u.c(),f(a,"href",s=n[0].data),f(a,"target",window.__is_colab__?"_blank":null),f(a,"download",b=n[0].orig_name||n[0].name),f(t,"class","icon-buttons svelte-rvdo70"),f(t,"data-testid","download-div")},m(o,d){r.m(o,d),q(o,l,d),q(o,t,d),N(t,a),M(i,a,null),N(t,_),u&&u.m(t,null),m=!0},p(o,d){d&1&&K(e,e=o[0].data)?(Q(),p(r,1,1,P),Y(),r=pe(o),r.c(),g(r,1),r.m(l.parentNode,l)):r.p(o,d),(!m||d&1&&s!==(s=o[0].data))&&f(a,"href",s),(!m||d&1&&b!==(b=o[0].orig_name||o[0].name))&&f(a,"download",b),o[5]?u?(u.p(o,d),d&32&&g(u,1)):(u=ve(o),u.c(),g(u,1),u.m(t,null)):u&&(Q(),p(u,1,1,()=>{u=null}),Y())},i(o){m||(g(r),g(i.$$.fragment,o),g(u),m=!0)},o(o){p(r),p(i.$$.fragment,o),p(u),m=!1},d(o){o&&(j(l),j(t)),r.d(o),S(i),u&&u.d()}}}function St(n){let e,l;return e=new et({props:{unpadded_box:!0,size:"large",$$slots:{default:[Ct]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},p(t,a){const i={};a&32768&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function pe(n){let e,l;return e=new Ne({props:{src:n[0].data,subtitle:n[1]?.data,autoplay:n[4],mirror:!1,label:n[2]}}),e.$on("play",n[6]),e.$on("pause",n[7]),e.$on("ended",n[8]),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},p(t,a){const i={};a&1&&(i.src=t[0].data),a&2&&(i.subtitle=t[1]?.data),a&16&&(i.autoplay=t[4]),a&4&&(i.label=t[2]),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function ve(n){let e,l;return e=new lt({props:{value:n[0],formatter:n[9]}}),e.$on("error",n[10]),e.$on("share",n[11]),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},p(t,a){const i={};a&1&&(i.value=t[0]),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function Ct(n){let e,l;return e=new me({}),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function Et(n){let e,l,t,a,i,s;e=new Be({props:{show_label:n[3],Icon:me,label:n[2]||"Video"}});const b=[St,Mt],_=[];function m(r,u){return r[0]===null?0:1}return t=m(n),a=_[t]=b[t](n),{c(){U(e.$$.fragment),l=X(),a.c(),i=le()},m(r,u){M(e,r,u),q(r,l,u),_[t].m(r,u),q(r,i,u),s=!0},p(r,[u]){const o={};u&8&&(o.show_label=r[3]),u&4&&(o.label=r[2]||"Video"),e.$set(o);let d=t;t=m(r),t===d?_[t].p(r,u):(Q(),p(_[d],1,1,()=>{_[d]=null}),Y(),a=_[t],a?a.p(r,u):(a=_[t]=b[t](r),a.c()),g(a,1),a.m(i.parentNode,i))},i(r){s||(g(e.$$.fragment,r),g(a),s=!0)},o(r){p(e.$$.fragment,r),p(a),s=!1},d(r){r&&(j(l),j(i)),S(e,r),_[t].d(r)}}}function Pt(n,e,l){let{value:t=null}=e,{subtitle:a=null}=e,{label:i=void 0}=e,{show_label:s=!0}=e,{autoplay:b}=e,{show_share_button:_=!0}=e,m=null,r=null;const u=de();Xe(async()=>{t!==m&&a!==r&&r!==null&&(m=t,l(0,t=null),await Le(),l(0,t=m)),m=t,r=a});function o(w){y.call(this,n,w)}function d(w){y.call(this,n,w)}function E(w){y.call(this,n,w)}const B=async w=>w?await tt(w.data,"url"):"";function V(w){y.call(this,n,w)}function I(w){y.call(this,n,w)}return n.$$set=w=>{"value"in w&&l(0,t=w.value),"subtitle"in w&&l(1,a=w.subtitle),"label"in w&&l(2,i=w.label),"show_label"in w&&l(3,s=w.show_label),"autoplay"in w&&l(4,b=w.autoplay),"show_share_button"in w&&l(5,_=w.show_share_button)},n.$$.update=()=>{n.$$.dirty&1&&t&&u("change",t)},[t,a,i,s,b,_,o,d,E,B,V,I]}class Rt extends ${constructor(e){super(),x(this,e,Pt,Et,K,{value:0,subtitle:1,label:2,show_label:3,autoplay:4,show_share_button:5})}}function zt(n){let e,l;return e=new Ut({props:{value:n[18],subtitle:n[19],label:n[5],show_label:n[7],source:n[6],mirror_webcam:n[10],include_audio:n[11],autoplay:n[16],$$slots:{default:[At]},$$scope:{ctx:n}}}),e.$on("change",n[21]),e.$on("drag",n[30]),e.$on("error",n[31]),e.$on("clear",n[32]),e.$on("play",n[33]),e.$on("pause",n[34]),e.$on("upload",n[35]),e.$on("stop",n[36]),e.$on("end",n[37]),e.$on("start_recording",n[38]),e.$on("stop_recording",n[39]),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},p(t,a){const i={};a[0]&262144&&(i.value=t[18]),a[0]&524288&&(i.subtitle=t[19]),a[0]&32&&(i.label=t[5]),a[0]&128&&(i.show_label=t[7]),a[0]&64&&(i.source=t[6]),a[0]&1024&&(i.mirror_webcam=t[10]),a[0]&2048&&(i.include_audio=t[11]),a[0]&65536&&(i.autoplay=t[16]),a[1]&1024&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function Ft(n){let e,l;return e=new Rt({props:{value:n[18],subtitle:n[19],label:n[5],show_label:n[7],autoplay:n[16],show_share_button:n[17]}}),e.$on("play",n[25]),e.$on("pause",n[26]),e.$on("stop",n[27]),e.$on("share",n[28]),e.$on("error",n[29]),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},p(t,a){const i={};a[0]&262144&&(i.value=t[18]),a[0]&524288&&(i.subtitle=t[19]),a[0]&32&&(i.label=t[5]),a[0]&128&&(i.show_label=t[7]),a[0]&65536&&(i.autoplay=t[16]),a[0]&131072&&(i.show_share_button=t[17]),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function At(n){let e,l;return e=new at({props:{type:"video"}}),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},p:P,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function Dt(n){let e,l,t,a,i,s;const b=[n[1]];let _={};for(let o=0;o<b.length;o+=1)_=He(_,b[o]);e=new Je({props:_});const m=[Ft,zt],r=[];function u(o,d){return o[15]==="static"?0:1}return t=u(n),a=r[t]=m[t](n),{c(){U(e.$$.fragment),l=X(),a.c(),i=le()},m(o,d){M(e,o,d),q(o,l,d),r[t].m(o,d),q(o,i,d),s=!0},p(o,d){const E=d[0]&2?Ke(b,[We(o[1])]):{};e.$set(E);let B=t;t=u(o),t===B?r[t].p(o,d):(Q(),p(r[B],1,1,()=>{r[B]=null}),Y(),a=r[t],a?a.p(o,d):(a=r[t]=m[t](o),a.c()),g(a,1),a.m(i.parentNode,i))},i(o){s||(g(e.$$.fragment,o),g(a),s=!0)},o(o){p(e.$$.fragment,o),p(a),s=!1},d(o){o&&(j(l),j(i)),S(e,o),r[t].d(o)}}}function It(n){let e,l;return e=new Ge({props:{visible:n[4],variant:n[15]==="dynamic"&&n[0]===null&&n[6]==="upload"?"dashed":"solid",border_mode:n[20]?"focus":"base",padding:!1,elem_id:n[2],elem_classes:n[3],height:n[8],width:n[9],container:n[12],scale:n[13],min_width:n[14],allow_overflow:!1,$$slots:{default:[Dt]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(t,a){M(e,t,a),l=!0},p(t,a){const i={};a[0]&16&&(i.visible=t[4]),a[0]&32833&&(i.variant=t[15]==="dynamic"&&t[0]===null&&t[6]==="upload"?"dashed":"solid"),a[0]&1048576&&(i.border_mode=t[20]?"focus":"base"),a[0]&4&&(i.elem_id=t[2]),a[0]&8&&(i.elem_classes=t[3]),a[0]&256&&(i.height=t[8]),a[0]&512&&(i.width=t[9]),a[0]&4096&&(i.container=t[12]),a[0]&8192&&(i.scale=t[13]),a[0]&16384&&(i.min_width=t[14]),a[0]&2067682|a[1]&1024&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function Ot(n,e,l){let{elem_id:t=""}=e,{elem_classes:a=[]}=e,{visible:i=!0}=e,{value:s=null}=e,b=null,{label:_}=e,{source:m}=e,{root:r}=e,{root_url:u}=e,{show_label:o}=e,{loading_status:d}=e,{height:E}=e,{width:B}=e,{mirror_webcam:V}=e,{include_audio:I}=e,{container:w=!1}=e,{scale:D=null}=e,{min_width:L=void 0}=e,{mode:W}=e,{autoplay:O=!1}=e,{show_share_button:H=!0}=e,k=null,C=null,h=!1;const te=de();function ee({detail:c}){c!=null?l(0,s=[c,null]):l(0,s=null)}function Z(c){y.call(this,n,c)}function z(c){y.call(this,n,c)}function ne(c){y.call(this,n,c)}function re(c){y.call(this,n,c)}function oe(c){y.call(this,n,c)}const se=({detail:c})=>l(20,h=c),G=({detail:c})=>{l(1,d=d||{}),l(1,d.status="error",d),l(1,d.message=c,d)};function ue(c){y.call(this,n,c)}function v(c){y.call(this,n,c)}function R(c){y.call(this,n,c)}function ae(c){y.call(this,n,c)}function Ve(c){y.call(this,n,c)}function Te(c){y.call(this,n,c)}function qe(c){y.call(this,n,c)}function je(c){y.call(this,n,c)}return n.$$set=c=>{"elem_id"in c&&l(2,t=c.elem_id),"elem_classes"in c&&l(3,a=c.elem_classes),"visible"in c&&l(4,i=c.visible),"value"in c&&l(0,s=c.value),"label"in c&&l(5,_=c.label),"source"in c&&l(6,m=c.source),"root"in c&&l(22,r=c.root),"root_url"in c&&l(23,u=c.root_url),"show_label"in c&&l(7,o=c.show_label),"loading_status"in c&&l(1,d=c.loading_status),"height"in c&&l(8,E=c.height),"width"in c&&l(9,B=c.width),"mirror_webcam"in c&&l(10,V=c.mirror_webcam),"include_audio"in c&&l(11,I=c.include_audio),"container"in c&&l(12,w=c.container),"scale"in c&&l(13,D=c.scale),"min_width"in c&&l(14,L=c.min_width),"mode"in c&&l(15,W=c.mode),"autoplay"in c&&l(16,O=c.autoplay),"show_share_button"in c&&l(17,H=c.show_share_button)},n.$$.update=()=>{n.$$.dirty[0]&12582913&&(s!=null?(l(18,k=ge(s[0],r,u)),l(19,C=ge(s[1],r,u))):(l(18,k=null),l(19,C=null))),n.$$.dirty[0]&16777217&&JSON.stringify(s)!==JSON.stringify(b)&&(l(24,b=s),te("change"))},[s,d,t,a,i,_,m,o,E,B,V,I,w,D,L,W,O,H,k,C,h,ee,r,u,b,Z,z,ne,re,oe,se,G,ue,v,R,ae,Ve,Te,qe,je]}class Xt extends ${constructor(e){super(),x(this,e,Ot,It,K,{elem_id:2,elem_classes:3,visible:4,value:0,label:5,source:6,root:22,root_url:23,show_label:7,loading_status:1,height:8,width:9,mirror_webcam:10,include_audio:11,container:12,scale:13,min_width:14,mode:15,autoplay:16,show_share_button:17},null,[-1,-1])}get elem_id(){return this.$$.ctx[2]}set elem_id(e){this.$$set({elem_id:e}),T()}get elem_classes(){return this.$$.ctx[3]}set elem_classes(e){this.$$set({elem_classes:e}),T()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),T()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),T()}get label(){return this.$$.ctx[5]}set label(e){this.$$set({label:e}),T()}get source(){return this.$$.ctx[6]}set source(e){this.$$set({source:e}),T()}get root(){return this.$$.ctx[22]}set root(e){this.$$set({root:e}),T()}get root_url(){return this.$$.ctx[23]}set root_url(e){this.$$set({root_url:e}),T()}get show_label(){return this.$$.ctx[7]}set show_label(e){this.$$set({show_label:e}),T()}get loading_status(){return this.$$.ctx[1]}set loading_status(e){this.$$set({loading_status:e}),T()}get height(){return this.$$.ctx[8]}set height(e){this.$$set({height:e}),T()}get width(){return this.$$.ctx[9]}set width(e){this.$$set({width:e}),T()}get mirror_webcam(){return this.$$.ctx[10]}set mirror_webcam(e){this.$$set({mirror_webcam:e}),T()}get include_audio(){return this.$$.ctx[11]}set include_audio(e){this.$$set({include_audio:e}),T()}get container(){return this.$$.ctx[12]}set container(e){this.$$set({container:e}),T()}get scale(){return this.$$.ctx[13]}set scale(e){this.$$set({scale:e}),T()}get min_width(){return this.$$.ctx[14]}set min_width(e){this.$$set({min_width:e}),T()}get mode(){return this.$$.ctx[15]}set mode(e){this.$$set({mode:e}),T()}get autoplay(){return this.$$.ctx[16]}set autoplay(e){this.$$set({autoplay:e}),T()}get show_share_button(){return this.$$.ctx[17]}set show_share_button(e){this.$$set({show_share_button:e}),T()}}const nl=Xt,al=["static","dynamic"],il=n=>({type:{input_payload:"{ name: string; data: string }",response_object:"{ name: string; data: string, is_file: boolean }"},description:{input_payload:"object with file name and base64 data",response_object:"object that includes path to video file. The URL: {ROOT}file={name} contains the data"}});export{nl as Component,il as document,al as modes};
//# sourceMappingURL=index-2685b873.js.map
